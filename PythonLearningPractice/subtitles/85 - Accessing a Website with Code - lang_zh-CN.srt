1
00:00:00,530 --> 00:00:03,220
现在我们又回到代码 我在代码里

2
00:00:03,220 --> 00:00:04,970
增加的唯一一个新东西

3
00:00:04,970 --> 00:00:08,470
是这个叫 check_profanity 的函数 顺便说一句

4
00:00:08,470 --> 00:00:12,440
这个函数目前是空的 它需要传入一个参数

5
00:00:12,440 --> 00:00:15,380
或一条信息 即我们实际上

6
00:00:15,380 --> 00:00:17,950
用于检查冒犯语的文本

7
00:00:17,950 --> 00:00:21,800
我知道 Python 有一个模块叫 urllib

8
00:00:21,800 --> 00:00:26,080
可以帮助我们从网上获取信息 它有一个函数叫做 urlopen

9
00:00:26,080 --> 00:00:29,880
该函数需要传入一个网站链接

10
00:00:29,880 --> 00:00:32,509
我将给它一个完整的链接

11
00:00:32,509 --> 00:00:35,428
连接至 what do you love 网站

12
00:00:35,428 --> 00:00:37,868
然后加上我们真正想要检查

13
00:00:37,868 --> 00:00:41,935
冒犯语的文本 现在 这个函数 urlopen 将帮助我们

14
00:00:41,935 --> 00:00:45,280
连接此网站 那么

15
00:00:45,280 --> 00:00:48,920
我要将其称之为 connection (连接) 我发现你们

16
00:00:48,920 --> 00:00:51,160
可能看不到我们在这里写的

17
00:00:51,160 --> 00:00:54,080
整行代码 所以我要暂时在这里

18
00:00:54,080 --> 00:00:56,270
插入一个换行 这样你就可以看到

19
00:00:56,270 --> 00:00:58,890
整行代码了 然后我再还原代码

20
00:00:58,890 --> 00:01:02,680
好的 我们继续 请注意

21
00:01:02,680 --> 00:01:07,230
这个函数 urlopen 跟我们

22
00:01:07,230 --> 00:01:09,120
之前在这个程序中用过的另一个函数比较相似

23
00:01:09,120 --> 00:01:12,800
那就是 open 其可以帮助我们阅读

24
00:01:12,800 --> 00:01:16,300
电脑上一个文件中的内容 而 urlopen 可以

25
00:01:16,300 --> 00:01:20,150
帮我们与互联网上的网站建立连接 然后我们

26
00:01:20,150 --> 00:01:24,460
可以利用这个连接 例如阅读来自该网站

27
00:01:24,460 --> 00:01:28,734
的一条回复 我将称这个回复为 output 然后

28
00:01:28,734 --> 00:01:33,160
打印出 output 完成后 我将关闭连接

29
00:01:36,550 --> 00:01:38,260
现在 我们该调用

30
00:01:38,260 --> 00:01:41,600
函数 check_profanity 不过我要

31
00:01:41,600 --> 00:01:43,850
先成功读取电脑上一个文件中的文本后

32
00:01:43,850 --> 00:01:47,280
再操作这个 现在 我要添加代码来调用

33
00:01:47,280 --> 00:01:50,448
函数 check_profanity 并把

34
00:01:50,448 --> 00:01:54,330
我们之前从文件中读取的内容传入其中

35
00:01:54,330 --> 00:01:58,080
我将保存程序 如果

36
00:01:58,080 --> 00:02:01,640
没有什么问题 read_text 函数将从

37
00:02:01,640 --> 00:02:05,070
movie_quotes 文件中读取内容 然后执行 check_profanity 函数

38
00:02:05,070 --> 00:02:07,830
检查文本中是否包含冒犯语

39
00:02:07,830 --> 00:02:13,250
我来运行一下我的程序 哦 看起来 我忘了导入 urllib

40
00:02:13,250 --> 00:02:18,750
我先返回代码 然后将它添加在最顶部 完成

41
00:02:18,750 --> 00:02:23,960
我来保存程序 再次运行 这一次

42
00:02:23,960 --> 00:02:27,390
程序没有问题 且回复是“否”

43
00:02:27,390 --> 00:02:29,830
也就是说电影对白不包含

44
00:02:29,830 --> 00:02:32,350
任何冒犯语 现在 如果我返回

45
00:02:32,350 --> 00:02:35,310
我的电影对白文件 然后更改一个词

46
00:02:35,310 --> 00:02:39,940
保存文件 然后再次

47
00:02:39,940 --> 00:02:43,660
运行我的代码 回复变成了

48
00:02:43,660 --> 00:02:46,530
“是” 也就是说这个句子中

49
00:02:46,530 --> 00:02:50,130
包含冒犯语 好的 看起来

50
00:02:50,130 --> 00:02:53,020
我们差不多已经完成这个代码了

51
00:02:53,020 --> 00:02:56,019
但是在我们进入下一个话题之前 我们再来研究一下

52
00:02:56,019 --> 00:03:00,690
Python 是如何知道 urllib 和 urlopen 的链接的 我们开始吧

